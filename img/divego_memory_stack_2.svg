<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1113px" height="4735px" viewBox="-0.5 -0.5 1113 4735" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="80.5" y="3150" width="553" height="500" fill="#ffffff" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><rect x="503.5" y="1710" width="120" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1740px; margin-left: 505px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.stackalloc()</font></div></div></div></foreignObject><text x="564" y="1744" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.stackalloc()</text></switch></g><path d="M 403.5 1680 Q 563.6 1680 563.6 1703.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 563.6 1708.88 L 560.1 1701.88 L 563.6 1703.63 L 567.1 1701.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="283.5" y="1660" width="120" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1680px; margin-left: 285px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.malg(size)</font></div></div></div></foreignObject><text x="344" y="1684" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.malg(size)</text></switch></g><path d="M 403.5 1740 Q 403.5 1740 497.13 1740" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 502.38 1740 L 495.38 1743.5 L 497.13 1740 L 495.38 1736.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="283.5" y="1720" width="120" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1740px; margin-left: 285px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.gfget(p)</font></div></div></div></foreignObject><text x="344" y="1744" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.gfget(p)</text></switch></g><path d="M 433.5 1800 Q 563.6 1800 563.52 1776.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 563.5 1771.12 L 567.03 1778.11 L 563.52 1776.37 L 560.03 1778.13 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="283.5" y="1780" width="150" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1800px; margin-left: 285px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.copystack(g, size)</font></div></div></div></foreignObject><text x="359" y="1804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.copystack(g, size)</text></switch></g><rect x="193.5" y="1660" width="70" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 1680px; margin-left: 195px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">创建一个新的 g 的时候</font></div></div></div></foreignObject><text x="229" y="1684" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">创建一个新的 g 的时候</text></switch></g><rect x="153.5" y="1715" width="120" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1740px; margin-left: 155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">从空闲 goroutine 列表获取一个 g 的时候</font></div></div></div></foreignObject><text x="214" y="1744" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">从空闲 goroutine 列表获取一个 g 的时候</text></switch></g><rect x="193.5" y="1790" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 1800px; margin-left: 195px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">栈拷贝</font></div></div></div></foreignObject><text x="229" y="1804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">栈拷贝</text></switch></g><rect x="103.5" y="1610" width="180" height="20" fill="#000000" stroke="#000000" transform="translate(2,3)" opacity="0.25"/><rect x="103.5" y="1610" width="180" height="20" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1620px; margin-left: 105px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">栈分配</font></div></div></div></foreignObject><text x="194" y="1624" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">栈分配</text></switch></g><path d="M 573.6 1880 Q 573.6 1900 573.6 1895 Q 573.6 1890 573.6 1903.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 573.6 1908.88 L 570.1 1901.88 L 573.6 1903.63 L 577.1 1901.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="503.5" y="1840" width="140" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1860px; margin-left: 505px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.stackalloc(size)</font></div></div></div></foreignObject><text x="574" y="1864" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.stackalloc(size)</text></switch></g><path d="M 643.5 1940 Q 643.5 1940 717.13 1940" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 722.38 1940 L 715.38 1943.5 L 717.13 1940 L 715.38 1936.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1940px; margin-left: 678px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="678" y="1943" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 573.5 1970 Q 573.5 1970 573.5 2013.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 573.5 2018.88 L 570 2011.88 L 573.5 2013.63 L 577 2011.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1988px; margin-left: 577px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="577" y="1991" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><rect x="503.5" y="1910" width="140" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1940px; margin-left: 505px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">确保在 g0 栈上调用并且分配大小为 2 的指数</div></div></div></foreignObject><text x="574" y="1944" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">确保在 g0 栈上调用并且分配大小为 2 的指数</text></switch></g><path d="M 673.5 2045 Q 673.5 2045 747.13 2045" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 752.38 2045 L 745.38 2048.5 L 747.13 2045 L 745.38 2041.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2047px; margin-left: 704px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="704" y="2050" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 573.5 2070 Q 573.5 2070 573.5 2103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 573.5 2108.88 L 570 2101.88 L 573.5 2103.63 L 577 2101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2084px; margin-left: 577px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="577" y="2087" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="473.5" y="2020" width="200" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 2045px; margin-left: 475px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">设置了 GDEBUG: efence 模式或者要求从系统内存而不是堆分配栈(<span style="font-family: &quot;menlo&quot; , &quot;monaco&quot; , &quot;courier new&quot; , monospace">stackFromSystem != 0)</span></div></div></div></foreignObject><text x="574" y="2049" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">设置了 GDEBUG: efence 模式或者要求从系统内存而不是堆分配栈(stackFromSystem...</text></switch></g><path d="M 573.6 2160 Q 573.6 2180 573.6 2175 Q 573.6 2170 573.6 2183.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 573.6 2188.88 L 570.1 2181.88 L 573.6 2183.63 L 577.1 2181.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2175px; margin-left: 577px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="577" y="2178" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 675 2135.2 Q 695.2 2135.2 693.6 2135.2 Q 692 2135.2 705.63 2135.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 710.88 2135.2 L 703.88 2138.7 L 705.63 2135.2 L 703.88 2131.7 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2138px; margin-left: 697px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="697" y="2142" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="472" y="2110" width="203" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 201px; height: 1px; padding-top: 2135px; margin-left: 473px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">申请的栈空间是否小于 32KB（runtime._StackCacheSize）</div></div></div></foreignObject><text x="574" y="2139" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">申请的栈空间是否小于 32KB（runtime._StackCacheSize）</text></switch></g><path d="M 813.5 2155 Q 813.5 2155 813.5 2193.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 813.5 2198.88 L 810 2191.88 L 813.5 2193.63 L 817 2191.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2172px; margin-left: 816px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">获取不到</div></div></div></foreignObject><text x="816" y="2175" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">获取不到</text></switch></g><path d="M 915 2135 Q 935.2 2135.2 935.2 2225.2 Q 935.2 2315.2 669.87 2315" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 664.62 2315 L 671.62 2311.51 L 669.87 2315 L 671.62 2318.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2165px; margin-left: 935px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">获取到</div></div></div></foreignObject><text x="935" y="2168" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">获取到</text></switch></g><rect x="712" y="2115" width="203" height="40" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 201px; height: 1px; padding-top: 2135px; margin-left: 713px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">尝试从全局大栈缓存（runtime.stackLarge）获取栈内存</div></div></div></foreignObject><text x="814" y="2139" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">尝试从全局大栈缓存（runtime.stackLarge）获取栈内存</text></switch></g><path d="M 813.5 2250 Q 813.6 2315.2 669.87 2315.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 664.62 2315 L 671.62 2311.51 L 669.87 2315.01 L 671.61 2318.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="715" y="2200" width="197" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 195px; height: 1px; padding-top: 2225px; margin-left: 716px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.mheap_.allocManual() 从堆上获取一块内存空间作为栈空间</div></div></div></foreignObject><text x="814" y="2229" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.mheap_.allocManual() 从堆上获取一块内存空间作为栈空间</text></switch></g><path d="M 573.6 2260 Q 573.6 2280 573.6 2275 Q 573.6 2270 573.6 2283.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 573.6 2288.88 L 570.1 2281.88 L 573.6 2283.63 L 577.1 2281.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="463.5" y="2190" width="220" height="70" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2225px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">则调用 runtime.stackpoolalloc() 从全局栈缓存中获取一块栈空间，或者从当前 g 所在的线程的线程缓存的栈缓存中分配一个空闲的内存块作为栈内存</div></div></div></foreignObject><text x="574" y="2229" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">则调用 runtime.stackpoolalloc() 从全局栈缓存中获取一块栈空间，或者从当前 g 所在的线程的线程缓存的栈缓存中分配一个空闲的内存块作为栈内存</text></switch></g><rect x="483.5" y="2290" width="180" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 2315px; margin-left: 485px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回获取到的栈空间</div></div></div></foreignObject><text x="574" y="2319" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">返回获取到的栈空间</text></switch></g><rect x="753.5" y="2020" width="150" height="50" fill="#ffcc99" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 2045px; margin-left: 755px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.sysAlloc() 从系统内存分配栈空间并返回</div></div></div></foreignObject><text x="829" y="2049" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.sysAlloc() 从系统内存分配栈空间并返回</text></switch></g><rect x="723.5" y="1910" width="80" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1940px; margin-left: 725px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">throw()</div></div></div></foreignObject><text x="764" y="1944" fill="#333333" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">throw()</text></switch></g><rect x="96" y="2650" width="180" height="20" fill="#000000" stroke="#000000" transform="translate(2,3)" opacity="0.25"/><rect x="96" y="2650" width="180" height="20" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 2660px; margin-left: 97px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">栈扩容</font></div></div></div></foreignObject><text x="186" y="2664" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">栈扩容</text></switch></g><rect x="85" y="2680" width="578.5" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 577px; height: 1px; padding-top: 2700px; margin-left: 86px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">编译阶段：编译器会在必要时，在调用函数前插入 runtime.morestack() / runtime.morestack_noctxt()</div></div></div></foreignObject><text x="374" y="2704" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">编译阶段：编译器会在必要时，在调用函数前插入 runtime.morestack() / runtime.morestack_noctxt()</text></switch></g><path d="M 358.5 2825 Q 358.5 2825 417.13 2825" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 422.38 2825 L 415.38 2828.5 L 417.13 2825 L 415.38 2821.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 93.5 2750 L 93.5 2749.35 L 103.31 2749.87 L 113.13 2749.4 L 122.94 2749.85 L 132.76 2750.33 L 142.57 2750.58 L 152.39 2750.7 L 162.2 2749.34 L 172.02 2750.01 L 181.83 2749.61 L 191.65 2749.28 L 201.46 2750.06 L 211.28 2750.41 L 221.09 2749.81 L 230.91 2749.63 L 240.72 2749.26 L 250.54 2749.9 L 260.35 2749.61 L 270.17 2749.86 L 279.98 2750.4 L 289.8 2749.64 L 299.61 2750.72 L 309.43 2749.84 L 319.24 2750.14 L 329.06 2749.29 L 338.87 2750.56 L 348.69 2749.55 L 358.5 2750 L 357.78 2750 L 358.73 2760 L 358.31 2770 L 358.99 2780 L 359.22 2790 L 358.52 2800 L 358.79 2810 L 358.33 2820 L 358.59 2830 L 357.79 2840 L 358.19 2850 L 359.16 2860 L 358.75 2870 L 359.01 2880 L 358.39 2890 L 358.5 2900 L 358.5 2899.91 L 348.69 2899.77 L 338.87 2900.58 L 329.06 2900.01 L 319.24 2900.25 L 309.43 2900.47 L 299.61 2900.01 L 289.8 2899.28 L 279.98 2900.65 L 270.17 2899.51 L 260.35 2899.79 L 250.54 2900.67 L 240.72 2899.31 L 230.91 2899.38 L 221.09 2899.44 L 211.28 2899.59 L 201.46 2900.32 L 191.65 2900.56 L 181.83 2900.03 L 172.02 2900.36 L 162.2 2900.31 L 152.39 2899.3 L 142.57 2899.56 L 132.76 2899.62 L 122.94 2900.27 L 113.13 2900.56 L 103.31 2899.71 L 93.5 2900 L 94.05 2900 L 94.08 2890 L 93.02 2880 L 93.78 2870 L 93.19 2860 L 93.99 2850 L 93.2 2840 L 93.19 2830 L 93 2820 L 93.93 2810 L 93.89 2800 L 92.93 2790 L 93.2 2780 L 93.03 2770 L 93.31 2760 L 93.5 2750 L 93.5 2750 Z Z" fill="#d5e8d4" stroke="#82b366" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 257px; height: 1px; padding-top: 2740px; margin-left: 98px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 160px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>runtime.morestack()</h1><p>汇编实现</p><p>① 确保不是扩容 m.g0 或者 m.gsignal</p><p>② 保存申请扩容的函数的 PC/SP/BP 信息</p><p>③ 切换到 m.g0 栈上调用 runtime.newstack()</p></div></div></div></foreignObject><text x="226" y="2752" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">runtime.morestack()...</text></switch></g><rect x="116" y="3920" width="180" height="20" fill="#000000" stroke="#000000" transform="translate(2,3)" opacity="0.25"/><rect x="116" y="3920" width="180" height="20" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 3930px; margin-left: 117px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">栈收缩</font></div></div></div></foreignObject><text x="206" y="3934" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">栈收缩</text></switch></g><rect x="92" y="80" width="318.5" height="40" fill="#b0e3e6" stroke="#0e8088" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 100px; margin-left: 251px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 24px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">连续栈</div></div></div></foreignObject><text x="251" y="107" fill="#000000" font-family="Helvetica" font-size="24px" text-anchor="middle" font-weight="bold">连续栈</text></switch></g><path d="M 137 185 Q 117.2 185.2 117.2 215.2 Q 117.2 245.2 130.63 245.06" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 135.88 245.01 L 128.92 248.58 L 130.63 245.06 L 128.85 241.58 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="137" y="170" width="120" height="30" fill="#f0a30a" stroke="#bd7000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 185px; margin-left: 138px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pointer</div></div></div></foreignObject><text x="197" y="189" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">pointer</text></switch></g><rect x="137" y="200" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 215px; margin-left: 138px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="197" y="219" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">1</text></switch></g><rect x="137" y="230" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 245px; margin-left: 138px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="197" y="249" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">2</text></switch></g><path d="M 488.97 185 Q 469.2 185.2 469.2 215.2 Q 469.2 245.2 482.6 245.06" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 487.85 245.01 L 480.89 248.58 L 482.6 245.06 L 480.82 241.58 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="488.97" y="170" width="120" height="30" fill="#f0a30a" stroke="#bd7000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 185px; margin-left: 490px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pointer</div></div></div></foreignObject><text x="549" y="189" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">pointer</text></switch></g><rect x="488.97" y="200" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 215px; margin-left: 490px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="549" y="219" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">1</text></switch></g><rect x="488.97" y="230" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 245px; margin-left: 490px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="549" y="249" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">2</text></switch></g><rect x="488.97" y="260" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="488.97" y="290" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="488.97" y="320" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><path d="M 319 185 Q 288 185.2 288 215.2 Q 288 245.2 263.37 245.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 258.12 245.01 L 265.14 241.55 L 263.37 245.04 L 265.1 248.55 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="319" y="170" width="120" height="30" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 185px; margin-left: 320px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pointer</div></div></div></foreignObject><text x="379" y="189" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">pointer</text></switch></g><rect x="319" y="200" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 215px; margin-left: 320px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="379" y="219" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">1</text></switch></g><rect x="319" y="230" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 245px; margin-left: 320px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="379" y="249" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">2</text></switch></g><rect x="319" y="260" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="319" y="290" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="319" y="320" width="120" height="30" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="169" y="290" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 300px; margin-left: 170px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">旧栈</div></div></div></foreignObject><text x="189" y="304" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">旧栈</text></switch></g><rect x="359" y="360" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 370px; margin-left: 360px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">新栈</div></div></div></foreignObject><text x="379" y="374" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">新栈</text></switch></g><rect x="516.47" y="360" width="65" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 63px; height: 1px; padding-top: 370px; margin-left: 517px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调整后的栈</div></div></div></foreignObject><text x="549" y="374" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调整后的栈</text></switch></g><rect x="103.5" y="490" width="180" height="20" fill="#000000" stroke="#000000" transform="translate(2,3)" opacity="0.25"/><rect x="103.5" y="490" width="180" height="20" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 500px; margin-left: 105px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">栈表示及一些全局变量</font></div></div></div></foreignObject><text x="194" y="504" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">栈表示及一些全局变量</text></switch></g><path d="M 198.5 611.03 Q 198.4 631.2 380.2 631.2 Q 562 631.2 562 609.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 562 604.65 L 565.5 611.65 L 562 609.9 L 558.5 611.65 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 633px; margin-left: 323px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">hi</div></div></div></foreignObject><text x="323" y="636" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">hi</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 634px; margin-left: 317px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">hi</div></div></div></foreignObject><text x="317" y="637" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">hi</text></switch></g><path d="M 198.5 561.03 Q 198.4 541.2 295.2 541.2 Q 392 541.2 392 562.16" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 392 567.41 L 388.5 560.41 L 392 562.16 L 395.5 560.41 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 541px; margin-left: 270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">lo</div></div></div></foreignObject><text x="270" y="544" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">lo</text></switch></g><rect x="152" y="561.03" width="93" height="50" fill="#60a917" stroke="#2d7600" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 91px; height: 1px; padding-top: 586px; margin-left: 153px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stack</div></div></div></foreignObject><text x="199" y="590" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">stack</text></switch></g><rect x="307" y="568.53" width="340" height="35" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="103.5" y="1090" width="180" height="20" fill="#000000" stroke="#000000" transform="translate(2,3)" opacity="0.25"/><rect x="103.5" y="1090" width="180" height="20" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1100px; margin-left: 105px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">栈初始化</font></div></div></div></foreignObject><text x="194" y="1104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">栈初始化</text></switch></g><path d="M 361.2 1280 Q 361.2 1300 361.2 1313.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 361.2 1318.88 L 357.7 1311.88 L 361.2 1313.63 L 364.7 1311.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="291.06" y="1240" width="140" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1260px; margin-left: 292px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.stackinit()</font></div></div></div></foreignObject><text x="361" y="1264" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.stackinit()</text></switch></g><rect x="322" y="650" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 660px; margin-left: 323px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">① 栈</div></div></div></foreignObject><text x="342" y="664" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">① 栈</text></switch></g><path d="M 372 740 Q 372 740 445.13 740" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 450.38 740 L 443.38 743.5 L 445.13 740 L 443.38 736.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="114.5" y="700" width="257.5" height="80" fill="#008a00" stroke="#005700" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 690px; margin-left: 119px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 90px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>var stackpool</h1><p>全局栈缓存，用于分配小于 32KB 的栈空间。</p></div></div></div></foreignObject><text x="243" y="702" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">var stackpool...</text></switch></g><path d="M 374.56 950 Q 374.56 950 442.69 950" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 447.94 950 L 440.94 953.5 L 442.69 950 L 440.94 946.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 953px; margin-left: 409px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">free</div></div></div></foreignObject><text x="409" y="956" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">free</text></switch></g><rect x="124.56" y="910" width="250" height="80" fill="#008a00" stroke="#005700" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 242px; height: 1px; padding-top: 900px; margin-left: 129px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 90px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>var stackLarge</h1><p>全局大栈缓存。用于分配大于 32KB 的栈空间</p></div></div></div></foreignObject><text x="250" y="912" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">var stackLarge...</text></switch></g><rect x="449.06" y="920" width="73" height="60" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 71px; height: 1px; padding-top: 950px; margin-left: 450px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">mSpanList</div></div></div></foreignObject><text x="486" y="954" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">mSpanList</text></switch></g><rect x="522.53" y="920" width="73" height="60" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 71px; height: 1px; padding-top: 950px; margin-left: 524px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">mSpanList</div></div></div></foreignObject><text x="559" y="954" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">mSpanList</text></switch></g><rect x="595.53" y="920" width="73" height="60" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 71px; height: 1px; padding-top: 950px; margin-left: 597px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">……</div></div></div></foreignObject><text x="632" y="954" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">……</text></switch></g><rect x="669" y="920" width="73" height="60" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 71px; height: 1px; padding-top: 950px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">mSpanList</div></div></div></foreignObject><text x="706" y="954" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">mSpanList</text></switch></g><path d="M 488 770 Q 488 770 488 813.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 488 818.88 L 484.5 811.88 L 488 813.63 L 491.5 811.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 788px; margin-left: 488px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">item</div></div></div></foreignObject><text x="488" y="791" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">item</text></switch></g><rect x="451.5" y="710" width="73" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><path d="M 532 850 Q 532 850 575.1 850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 580.35 850 L 573.35 853.5 L 575.1 850 L 573.35 846.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 851px; margin-left: 550px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">span</div></div></div></foreignObject><text x="550" y="854" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">span</text></switch></g><rect x="444" y="820" width="88" height="60" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 86px; height: 1px; padding-top: 850px; margin-left: 445px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stackpoolItem</div></div></div></foreignObject><text x="488" y="854" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">stackpoolItem</text></switch></g><rect x="581.47" y="820" width="73" height="60" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 71px; height: 1px; padding-top: 850px; margin-left: 582px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">mSpanList</div></div></div></foreignObject><text x="618" y="854" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">mSpanList</text></switch></g><rect x="524.97" y="710" width="73" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><rect x="597.97" y="710" width="73" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 71px; height: 1px; padding-top: 740px; margin-left: 599px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">……</div></div></div></foreignObject><text x="634" y="744" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">……</text></switch></g><rect x="671.44" y="710" width="73" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><path d="M 452 690 L 452 710 M 742 690 L 742 710 M 452 700 L 742 700" fill="#647687" stroke="#314354" stroke-miterlimit="10" pointer-events="all"/><rect x="462" y="680" width="270" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 690px; margin-left: 597px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div style="font-family: &quot;menlo&quot; , &quot;monaco&quot; , &quot;courier new&quot; , monospace ; line-height: 18px">runtime._NumStackOrders = 4（Linux）</div></div></div></div></foreignObject><text x="597" y="694" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">runtime._NumStackOrders = 4（Linux）</text></switch></g><rect x="392" y="1020" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 1030px; margin-left: 393px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">② 全局变量</div></div></div></foreignObject><text x="427" y="1034" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">② 全局变量</text></switch></g><path d="M 245 1190 Q 245 1190 290.63 1190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 295.88 1190 L 288.88 1193.5 L 290.63 1190 L 288.88 1186.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="125" y="1160" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1190px; margin-left: 126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">runtime.schedinit()</div></div></div></foreignObject><text x="185" y="1194" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">runtime.schedinit()</text></switch></g><rect x="297" y="1160" width="120" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1190px; margin-left: 298px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">runtime.stackinit()</div></div></div></foreignObject><text x="357" y="1194" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">runtime.stackinit()</text></switch></g><path d="M 361.2 1380 Q 361.2 1400 361.2 1395 Q 361.2 1390 361.2 1403.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 361.2 1408.88 L 357.7 1401.88 L 361.2 1403.63 L 364.7 1401.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="278" y="1320" width="166" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 164px; height: 1px; padding-top: 1350px; margin-left: 279px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">初始化全局栈缓存（stackpool）中的所有 span</div></div></div></foreignObject><text x="361" y="1354" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">初始化全局栈缓存（stackpool）中的所有 span</text></switch></g><rect x="278" y="1410" width="166" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 164px; height: 1px; padding-top: 1440px; margin-left: 279px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">初始化全局大栈缓存（stackLarge）中的所有 span</div></div></div></foreignObject><text x="361" y="1444" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">初始化全局大栈缓存（stackLarge）中的所有 span</text></switch></g><path d="M 171.5 2100 L 171.5 2100.62 L 181.58 2100.04 L 191.65 2099.4 L 201.73 2099.92 L 211.81 2099.52 L 221.88 2099.92 L 231.96 2100.4 L 242.04 2100.73 L 252.12 2100.51 L 262.19 2099.62 L 272.27 2100.47 L 282.35 2099.85 L 292.42 2099.58 L 302.5 2100.73 L 312.58 2099.56 L 322.65 2099.36 L 332.73 2099.42 L 342.81 2099.83 L 352.88 2099.54 L 362.96 2100.51 L 373.04 2099.86 L 383.12 2100.14 L 393.19 2099.27 L 403.27 2099.77 L 413.35 2100.19 L 423.42 2100.11 L 433.5 2100 L 434.01 2100 L 432.76 2110 L 433.42 2120 L 433.55 2130 L 433.34 2140 L 433.6 2150 L 434.24 2160 L 433.57 2170 L 433.75 2180 L 433.74 2190 L 433.21 2200 L 433.43 2210 L 433 2220 L 433.5 2230 L 433.5 2230.35 L 423.42 2229.59 L 413.35 2229.26 L 403.27 2230.3 L 393.19 2229.45 L 383.12 2229.84 L 373.04 2229.97 L 362.96 2230.68 L 352.88 2229.59 L 342.81 2230.1 L 332.73 2229.29 L 322.65 2229.36 L 312.58 2229.82 L 302.5 2230.01 L 292.42 2230.25 L 282.35 2230.43 L 272.27 2230.02 L 262.19 2230.7 L 252.12 2230.39 L 242.04 2229.86 L 231.96 2229.9 L 221.88 2229.41 L 211.81 2230.67 L 201.73 2229.65 L 191.65 2230.27 L 181.58 2229.64 L 171.5 2230 L 170.76 2230 L 170.92 2220 L 170.97 2210 L 171.05 2200 L 170.83 2190 L 171.88 2180 L 172.04 2170 L 170.93 2160 L 171.51 2150 L 170.85 2140 L 171.58 2130 L 171.61 2120 L 171.39 2110 L 171.5 2100 L 171.5 2100 Z Z" fill="#cdeb8b" stroke="#36393d" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 254px; height: 1px; padding-top: 2090px; margin-left: 176px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 140px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1><font style="font-size: 18px">线程缓存中的栈缓存</font></h1><p>用于减少线程之间竞争全局变量（栈缓存）的锁带来的影响。</p><p>① 获取时如果空间不足，则调用 runtime.stackcacherefill() 从堆上获取新内存</p></div></div></div></foreignObject><text x="303" y="2102" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">线程缓存中的栈缓存用于减少线程之间竞争全局变量（栈缓存）的锁带来的影响。① 获取时如果空间不足，则调用 runtime.stackcacherefill() 从堆上获取新内存...</text></switch></g><path d="M 308.8 2300 Q 308.8 2320 308.8 2315 Q 308.8 2310 308.8 2323.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 308.8 2328.88 L 305.3 2321.88 L 308.8 2323.63 L 312.3 2321.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="228.93" y="2260" width="160" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2280px; margin-left: 230px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.stackpoolalloc(n)</font></div></div></div></foreignObject><text x="309" y="2284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.stackpoolalloc(n)</text></switch></g><path d="M 308.93 2380 Q 308.93 2380 308.93 2423.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 308.93 2428.88 L 305.43 2421.88 L 308.93 2423.63 L 312.43 2421.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2399px; margin-left: 312px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">获取不到<br />（没有空闲栈空间）</div></div></div></foreignObject><text x="312" y="2402" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">获取不到&#xa;（没有空闲栈空间）</text></switch></g><path d="M 418.93 2355 Q 438.8 2355.2 438.8 2445.2 Q 438.8 2535.2 425.3 2535.06" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 420.05 2535.01 L 427.08 2531.58 L 425.3 2535.06 L 427.01 2538.58 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2385px; margin-left: 439px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">获取到</div></div></div></foreignObject><text x="439" y="2389" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">获取到</text></switch></g><rect x="198.93" y="2330" width="220" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2355px; margin-left: 200px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据 n 从全局栈缓存中获取 span 链表</div></div></div></foreignObject><text x="309" y="2359" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">根据 n 从全局栈缓存中获取 span 链表</text></switch></g><path d="M 308.8 2480 Q 308.8 2500 308.8 2495 Q 308.8 2490 308.8 2503.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 308.8 2508.88 L 305.3 2501.88 L 308.8 2503.63 L 312.3 2501.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="198.93" y="2430" width="220" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2455px; margin-left: 200px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.mheap_.allocManual() 从堆上申请一片内存空间</div></div></div></foreignObject><text x="309" y="2459" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.mheap_.allocManual() 从堆上申请一片内存空间</text></switch></g><rect x="198.93" y="2510" width="220" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2535px; margin-left: 200px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取一块栈内存并返回</div></div></div></foreignObject><text x="309" y="2539" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">获取一块栈内存并返回</text></switch></g><path d="M 519.2 2960 Q 519.2 2980 519.2 2975 Q 519.2 2970 519.2 2983.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 519.2 2988.88 L 515.7 2981.88 L 519.2 2983.63 L 522.7 2981.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="439" y="2920" width="160" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2940px; margin-left: 440px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.newstack()</font></div></div></div></foreignObject><text x="519" y="2944" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.newstack()</text></switch></g><path d="M 612 3015.2 Q 942 3015.2 942 3073.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 942 3078.88 L 938.5 3071.88 L 942 3073.63 L 945.5 3071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3016px; margin-left: 798px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="798" y="3020" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 519 3040 Q 519 3040 519 3073.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 519 3078.88 L 515.5 3071.88 L 519 3073.63 L 522.5 3071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3055px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="521" y="3058" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="426" y="2990" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3015px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">当前是否处于线程 fork？</div></div></div></foreignObject><text x="519" y="3019" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">当前是否处于线程 fork？</text></switch></g><path d="M 612 3105 Q 612 3105 885.63 3105" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 890.88 3105 L 883.88 3108.5 L 885.63 3105 L 883.88 3101.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3107px; margin-left: 694px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="694" y="3110" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 519 3130 Q 519 3130 519 3163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 519 3168.88 L 515.5 3161.88 L 519 3163.63 L 522.5 3161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3140px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="521" y="3143" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="426" y="3080" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3105px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">请求扩容的 goroutine 是否设置了 throwsplit 为 true？</div></div></div></foreignObject><text x="519" y="3109" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">请求扩容的 goroutine 是否设置了 throwsplit 为 true？</text></switch></g><path d="M 519 3220 Q 519 3220 519 3253.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 519 3258.88 L 515.5 3251.88 L 519 3253.63 L 522.5 3251.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3233px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="521" y="3236" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 612 3195 Q 612 3195 685.63 3195" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 690.88 3195 L 683.88 3198.5 L 685.63 3195 L 683.88 3191.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3200px; margin-left: 654px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="654" y="3203" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="426" y="3170" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3195px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">当前 goroutine 是否发出了抢占请求？</div></div></div></foreignObject><text x="519" y="3199" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">当前 goroutine 是否发出了抢占请求？</text></switch></g><path d="M 785.2 3220 Q 785.2 3240 785.2 3235 Q 785.2 3230 785.2 3243.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 785.2 3248.88 L 781.7 3241.88 L 785.2 3243.63 L 788.7 3241.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="692" y="3170" width="186" height="50" fill="#60a917" stroke="#2d7600" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3195px; margin-left: 693px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">计算新栈大小：new = 2 * old</div></div></div></foreignObject><text x="785" y="3199" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">计算新栈大小：new = 2 * old</text></switch></g><path d="M 785 3300 Q 785 3300 785 3333.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 785 3338.88 L 781.5 3331.88 L 785 3333.63 L 788.5 3331.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3311px; margin-left: 785px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="785" y="3314" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 878 3275 Q 942 3275.2 942 3136.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 942 3131.12 L 945.5 3138.12 L 942 3136.37 L 938.5 3138.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3271px; margin-left: 900px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="900" y="3274" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><rect x="692" y="3250" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3275px; margin-left: 693px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">新栈大小是否超过 maxstacksize (64位是 1GB，32位是 250MB)</div></div></div></foreignObject><text x="785" y="3279" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">新栈大小是否超过 maxstacksize (64位是 1GB，32位是 250MB)</text></switch></g><path d="M 785.2 3390 Q 785.2 3410 785.2 3405 Q 785.2 3400 785.2 3413.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 785.2 3418.88 L 781.7 3411.88 L 785.2 3413.63 L 788.7 3411.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="692" y="3340" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3365px; margin-left: 693px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">切换 goroutine 状态为 _Gcopystack</div></div></div></foreignObject><text x="785" y="3369" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">切换 goroutine 状态为 _Gcopystack</text></switch></g><path d="M 785.2 3470 Q 785.2 3490 785.2 3485 Q 785.2 3480 785.2 3493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 785.2 3498.88 L 781.7 3491.88 L 785.2 3493.63 L 788.7 3491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="692" y="3420" width="186" height="50" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3445px; margin-left: 693px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.copystack() 进行栈拷贝</div></div></div></foreignObject><text x="785" y="3449" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.copystack() 进行栈拷贝</text></switch></g><path d="M 785.2 3550 Q 785.2 3570 785.2 3565 Q 785.2 3560 785.2 3573.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 785.2 3578.88 L 781.7 3571.88 L 785.2 3573.63 L 788.7 3571.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="692" y="3500" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3525px; margin-left: 693px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">切换 goroutine 状态为 _Grunning</div></div></div></foreignObject><text x="785" y="3529" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">切换 goroutine 状态为 _Grunning</text></switch></g><rect x="692" y="3580" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3605px; margin-left: 693px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>调用 runtime.gogo() 触发调度器调度</span></div></div></div></foreignObject><text x="785" y="3609" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.gogo() 触发调度器调度</text></switch></g><path d="M 426 3285 Q 426 3285 352.37 3285" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 347.12 3285 L 354.12 3281.5 L 352.37 3285 L 354.12 3288.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3289px; margin-left: 392px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="392" y="3292" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 519 3310 Q 519 3310 519 3343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 519 3348.88 L 515.5 3341.88 L 519 3343.63 L 522.5 3341.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3324px; margin-left: 520px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="520" y="3327" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="426" y="3260" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3285px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">当前线程是否可以被抢占？</div></div></div></foreignObject><text x="519" y="3289" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">当前线程是否可以被抢占？</text></switch></g><path d="M 519 3400 Q 519 3400 519 3473.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 519 3478.88 L 515.5 3471.88 L 519 3473.63 L 522.5 3471.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3429px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="521" y="3432" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 426 3375 Q 426 3375 352.37 3375" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 347.12 3375 L 354.12 3371.5 L 352.37 3375 L 354.12 3378.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3381px; margin-left: 384px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="384" y="3384" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><rect x="426" y="3350" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3375px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">当前 goroutine 是否在垃圾回收被标记成需要收缩栈？</div></div></div></foreignObject><text x="519" y="3379" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">当前 goroutine 是否在垃圾回收被标记成需要收缩栈？</text></switch></g><path d="M 253 3400 Q 253.2 3492.4 419.63 3492.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 424.88 3492.5 L 417.88 3496 L 419.63 3492.5 L 417.88 3489 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="160" y="3350" width="186" height="50" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3375px; margin-left: 161px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.shrinkstack() 收缩栈</div></div></div></foreignObject><text x="253" y="3379" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.shrinkstack() 收缩栈</text></switch></g><path d="M 519 3530 Q 519 3530 519 3573.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 519 3578.88 L 515.5 3571.88 L 519 3573.63 L 522.5 3571.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3544px; margin-left: 520px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="520" y="3547" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 426 3505 Q 426 3505 320.87 3505" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 315.62 3505 L 322.62 3501.5 L 320.87 3505 L 322.62 3508.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3505px; margin-left: 376px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="376" y="3508" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><rect x="426" y="3480" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3505px; margin-left: 427px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">当前 goroutine 是否被 runtime.suspendG() 挂起？</div></div></div></foreignObject><text x="519" y="3509" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">当前 goroutine 是否被 runtime.suspendG()...</text></switch></g><rect x="112.5" y="3480" width="202" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 200px; height: 1px; padding-top: 3505px; margin-left: 114px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.preemptPark() 被动让出当前处理器的控制权并将 goroutine 状态修改至 _Gpreempted</div></div></div></foreignObject><text x="214" y="3509" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.preemptPark() 被动让出当前处理器的控制权并将 goroutine...</text></switch></g><rect x="416" y="3580" width="206" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 3605px; margin-left: 417px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.gopreempt_m() 主动让出当前处理器的控制权，进入调度</div></div></div></foreignObject><text x="519" y="3609" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.gopreempt_m() 主动让出当前处理器的控制权，进入调度</text></switch></g><rect x="160" y="3260" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3285px; margin-left: 161px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.gogo() 触发调度器调度</div></div></div></foreignObject><text x="253" y="3289" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.gogo() 触发调度器调度</text></switch></g><rect x="892" y="3080" width="100" height="50" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 3105px; margin-left: 893px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">throw()</div></div></div></foreignObject><text x="942" y="3109" fill="#ffffff" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">throw()</text></switch></g><rect x="92" y="3160" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 3170px; margin-left: 93px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发生抢占</div></div></div></foreignObject><text x="117" y="3174" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">发生抢占</text></switch></g><path d="M 1035.2 3440 Q 1035.2 3460 1035.2 3455 Q 1035.2 3450 1035.2 3463.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1035.2 3468.88 L 1031.7 3461.88 L 1035.2 3463.63 L 1038.7 3461.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="948" y="3400" width="174" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 172px; height: 1px; padding-top: 3420px; margin-left: 949px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.copystack(g,newsize)</font></div></div></div></foreignObject><text x="1035" y="3424" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.copystack(g,newsize)</text></switch></g><path d="M 1035.2 3520 Q 1035.2 3540 1035.2 3535 Q 1035.2 3530 1035.2 3543.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1035.2 3548.88 L 1031.7 3541.88 L 1035.2 3543.63 L 1038.7 3541.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="942" y="3470" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3495px; margin-left: 943px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.stackalloc(newsize) 分配新的栈空间</div></div></div></foreignObject><text x="1035" y="3499" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.stackalloc(newsize) 分配新的栈空间</text></switch></g><path d="M 1035.2 3600 Q 1035.2 3620 1035.2 3615 Q 1035.2 3610 1035.2 3623.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1035.2 3628.88 L 1031.7 3621.88 L 1035.2 3623.63 L 1038.7 3621.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="942" y="3550" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3575px; margin-left: 943px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.adjustsudogs() 或者 runtime.syncadjustsudogs() 调整 runtime.sudogs 结构体的指针</div></div></div></foreignObject><text x="1035" y="3579" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.adjustsudogs() 或者 runtim...</text></switch></g><path d="M 1035.2 3680 Q 1035.2 3700 1035.2 3690 Q 1035.2 3680 1035.2 3693.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1035.2 3698.88 L 1031.7 3691.88 L 1035.2 3693.63 L 1038.7 3691.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="942" y="3630" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 3655px; margin-left: 943px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.memmove() 将旧栈中整片内存拷贝到新栈中</div></div></div></foreignObject><text x="1035" y="3659" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.memmove() 将旧栈中整片内存拷贝到新栈中</text></switch></g><path d="M 1035 3770 Q 1035 3770 1035 3803.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1035 3808.88 L 1031.5 3801.88 L 1035 3803.63 L 1038.5 3801.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="918" y="3700" width="234" height="70" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 232px; height: 1px; padding-top: 3735px; margin-left: 919px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.adjustctxt()、runtime.adjustdefers()、runtime.adjustpanics() 调整剩余 goroutine 相关数据结构的指针</div></div></div></foreignObject><text x="1035" y="3739" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.adjustctxt()、runtime.adjustdefe...</text></switch></g><rect x="948" y="3810" width="174" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 172px; height: 1px; padding-top: 3835px; margin-left: 949px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.stackfree() 释放旧栈的内存空间</div></div></div></foreignObject><text x="1035" y="3839" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.stackfree() 释放旧栈的内存空间</text></switch></g><rect x="422" y="2805" width="160" height="40" rx="6" ry="6" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2825px; margin-left: 423px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.newstack()</font></div></div></div></foreignObject><text x="502" y="2829" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.newstack()</text></switch></g><rect x="393.5" y="4010" width="140" height="44" rx="6.6" ry="6.6" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 4032px; margin-left: 395px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">runtime.shrinkstack(g)</div></div></div></foreignObject><text x="464" y="4036" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">runtime.shrinkstack(g)</text></switch></g><path d="M 324.5 3998 Q 359.2 3998 359.2 4015 Q 359.2 4032 387.13 4032" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 392.38 4032 L 385.38 4035.5 L 387.13 4032 L 385.38 4028.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="184.5" y="3976" width="140" height="44" rx="6.6" ry="6.6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 3998px; margin-left: 186px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">runtime.scanstack()</div></div></div></foreignObject><text x="255" y="4002" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">runtime.scanstack()</text></switch></g><path d="M 324.5 4062 Q 359.2 4062 359.2 4047 Q 359.2 4032 387.13 4032" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 392.38 4032 L 385.38 4035.5 L 387.13 4032 L 385.38 4028.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="184.5" y="4040" width="140" height="44" rx="6.6" ry="6.6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 4062px; margin-left: 186px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">runtime.newstack()</div></div></div></foreignObject><text x="255" y="4066" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">runtime.newstack()</text></switch></g><rect x="116" y="4052" width="58" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 56px; height: 1px; padding-top: 4062px; margin-left: 117px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">栈扩容时</div></div></div></foreignObject><text x="145" y="4066" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">栈扩容时</text></switch></g><rect x="111" y="3988" width="62" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 60px; height: 1px; padding-top: 3998px; margin-left: 112px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">GC 标记阶段扫描栈时</div></div></div></foreignObject><text x="142" y="4002" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">GC 标记阶段扫描栈时</text></switch></g><path d="M 469.2 4150 Q 469.2 4170 469.2 4165 Q 469.2 4160 469.2 4173.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469.2 4178.88 L 465.7 4171.88 L 469.2 4173.63 L 472.7 4171.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="382.06" y="4110" width="174" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 172px; height: 1px; padding-top: 4130px; margin-left: 383px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font face="Comic Sans MS">runtime.shrinkstack(g)</font></div></div></div></foreignObject><text x="469" y="4134" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runtime.shrinkstack(g)</text></switch></g><path d="M 469.06 4230 Q 469.06 4230 469.06 4263.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469.06 4268.88 L 465.56 4261.88 L 469.06 4263.63 L 472.56 4261.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4241px; margin-left: 469px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">满足</div></div></div></foreignObject><text x="469" y="4244" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">满足</text></switch></g><path d="M 562.06 4205 Q 562.06 4205 635.69 4205" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 640.94 4205 L 633.94 4208.5 L 635.69 4205 L 633.94 4201.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4206px; margin-left: 600px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">不满足</div></div></div></foreignObject><text x="600" y="4209" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">不满足</text></switch></g><rect x="376.06" y="4180" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 4205px; margin-left: 377px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">进行一系列缩容前置条件的检查</div></div></div></foreignObject><text x="469" y="4209" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">进行一系列缩容前置条件的检查</text></switch></g><rect x="642.06" y="4180" width="81.44" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 79px; height: 1px; padding-top: 4205px; margin-left: 643px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">throw()</div></div></div></foreignObject><text x="683" y="4209" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">throw()</text></switch></g><path d="M 376.06 4295.2 Q 243.2 4295.2 243.2 4373.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 243.2 4378.88 L 239.7 4371.88 L 243.2 4373.63 L 246.7 4371.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4301px; margin-left: 274px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="274" y="4305" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 469.06 4320 Q 469.06 4320 469.06 4353.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469.06 4358.88 L 465.56 4351.88 L 469.06 4353.63 L 472.56 4351.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4334px; margin-left: 472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="472" y="4337" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="376.06" y="4270" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 4295px; margin-left: 377px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">在 GODEBUG 是否设置了 gcshrinkstackoff？</div></div></div></foreignObject><text x="469" y="4299" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">在 GODEBUG 是否设置了 gcshrinkstackoff？</text></switch></g><path d="M 469.2 4410 Q 469.2 4430 469.2 4425 Q 469.2 4420 469.2 4433.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469.2 4438.88 L 465.7 4431.88 L 469.2 4433.63 L 472.7 4431.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="376.06" y="4360" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 4385px; margin-left: 377px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">计算新栈的大小：new = old/2</div></div></div></foreignObject><text x="469" y="4389" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">计算新栈的大小：new = old/2</text></switch></g><path d="M 376.06 4465 Q 243.2 4465.2 243.22 4436.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 243.22 4431.12 L 246.72 4438.12 L 243.22 4436.37 L 239.72 4438.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4458px; margin-left: 278px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="278" y="4461" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 469.2 4490 Q 469.2 4510 469.2 4505 Q 469.2 4500 469.2 4513.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469.2 4518.88 L 465.7 4511.88 L 469.2 4513.63 L 472.7 4511.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4505px; margin-left: 470px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="470" y="4508" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="376.06" y="4440" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 4465px; margin-left: 377px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">新栈大小是否小于最小栈值 _FixedStack（2KB）</div></div></div></foreignObject><text x="469" y="4469" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">新栈大小是否小于最小栈值 _FixedStack（2KB）</text></switch></g><path d="M 469.06 4570 Q 469.06 4570 469.06 4603.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469.06 4608.88 L 465.56 4601.88 L 469.06 4603.63 L 472.56 4601.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4583px; margin-left: 466px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="466" y="4586" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 376.06 4545 Q 243.2 4545.2 243.22 4436.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 243.22 4431.12 L 246.72 4438.12 L 243.22 4436.37 L 239.72 4438.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4525px; margin-left: 290px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="290" y="4528" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">是</text></switch></g><rect x="376.06" y="4520" width="186" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 4545px; margin-left: 377px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">当前栈使用是否不足 1/4</div></div></div></foreignObject><text x="469" y="4549" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">当前栈使用是否不足 1/4</text></switch></g><rect x="376.06" y="4610" width="186" height="50" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 4635px; margin-left: 377px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用 runtime.copystack() 进行栈拷贝</div></div></div></foreignObject><text x="469" y="4639" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">调用 runtime.copystack() 进行栈拷贝</text></switch></g><rect x="206.94" y="4380" width="72.56" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 71px; height: 1px; padding-top: 4405px; margin-left: 208px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">return</div></div></div></foreignObject><text x="243" y="4409" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">return</text></switch></g><path d="M 192 4770 L 692 4770" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>